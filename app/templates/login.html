{% extends "base.html" %}

{% block content %}
<div class="login-container">
  <h2>Login</h2>
  {% if error %}
  <div class="error">{{ error }}</div>
  {% endif %}
  <form method="POST" action="{{ url_for('auth.login') }}">
      {% if request.args.get('next') %}
        <input type="hidden" name="next" value="{{ request.args.get('next') }}">
      {% endif %}
      <div class="form-group">
          <input type="text" id="username" name="username" placeholder="Username" required>
      </div>
      <div class="form-group">
          <input type="password" id="password" name="password" placeholder="Password" required>
      </div>
      <button type="submit">Login</button>
  </form>
  <div class="or">or</div>
  <div class="oauth-login">
      <form action="{{ url_for('auth.oauth2_authorize', provider='google') }}" method="get">
          <button type="submit" class="google-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">
                <path d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"/>
            </svg>
            Log in with Google
        </button>
      </form>
  </div>
    <div class="bottom-link">
        <p>Don't have an account? <a href="{{ url_for('auth.register') }}">Register here</a></p>
    </div>
</div>
{% endblock %}
