{% extends "base.html" %}

{% block content %}

<!-- Custom context menu for folders -->
<div id="folderContextMenu" class="context-menu">
  <button id="deleteFolderBtn" class="menuItem">🗑️ Delete Folder</button>
</div>


<div class="user-info">
  Welcome, {{ username }}! 
  <button class="logout-btn" onclick="window.location.href='{{ url_for('auth.logout') }}'">Logout</button>
  |
  <button 
  class="upgrade-btn"
  onmouseover="this.style.background='linear-gradient(90deg,#3182ce 0%,#319795 100%)'; this.style.boxShadow='0 4px 16px rgba(56,178,172,0.15)';"
  onmouseout="this.style.background='linear-gradient(90deg, #4299e1 0%, #38b2ac 100%)'; this.style.boxShadow='0 2px 8px rgba(66,153,225,0.10)';"
  onclick="window.location.href='{{ url_for('main.pricing') }}'">
  ⚡ Upgrade
</button>
</div>

<div id="storage-bar" style="margin: 20px 0"></div>

<div class="action-buttons">
  <div class="upload-container-modern" id="uploadDropArea">
    <input type="file" id="fileInput" multiple class="file-input" style="display: none;" />
    <div class="upload-icon">📤</div>
    <div class="upload-text">
      <span>Drag & drop files here</span>
      <span>or</span>
      <label for="fileInput" class="custom-file-label-modern">Browse Files</label>
    </div>
    <ul id="selectedFilesList" class="selected-files-list"></ul>
    <button onclick="uploadFile()" class="upload-btn-modern" id="uploadBtn">
      <span id="btnText">Upload</span>
      <span id="btnSpinner" style="display: none">⏳ Uploading...</span>
    </button>
  </div>
  <div id="toastContainer"></div>
</div>
<div class="createFolder">
  <input type="text" id="folderName" placeholder="New folder name" />
  <button onclick="createFolder()">Create Folder</button>
</div>

<hr />
<ul id="breadcrumb" class="breadcrumb"></ul>
<ul id="fileList" class="file-list"></ul>
{% endblock %}
